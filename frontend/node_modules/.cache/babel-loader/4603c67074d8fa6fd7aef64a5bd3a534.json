{"ast":null,"code":"var _jsxFileName = \"/Users/akashkumar/Desktop/MajorProj/frontend/src/components/googleAuth.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { GoogleLogin } from 'react-google-login';\nimport axios from \"axios\";\nimport { login, register } from \"../actions/userActions\";\nimport { useDispatch } from \"react-redux\";\nimport config from \"../config.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst clientId = config.GOOGLE_CLIENT_ID;\nfunction Login() {\n  _s();\n  const dispatch = useDispatch();\n  const onSuccess = async res => {\n    const user = res.profileObj;\n    const {\n      name,\n      email\n    } = user;\n    const password = config.AUTH_PASSWORD;\n    const {\n      data\n    } = await axios.get(`/api/users/googleauth/${email}`);\n    if (data.isPresent) {\n      dispatch(login(email, password));\n    } else {\n      dispatch(register(name, email, password));\n    }\n  };\n  const onFailure = res => {\n    console.log('Login failed: res:', res);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n      clientId: clientId,\n      buttonText: \"Sign In/Sign Up\",\n      onSuccess: onSuccess,\n      onFailure: onFailure,\n      cookiePolicy: 'single_host_origin',\n      style: {\n        MarginTop: '100px'\n      }\n      //isSignedIn={true}\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","GoogleLogin","axios","login","register","useDispatch","config","jsxDEV","_jsxDEV","clientId","GOOGLE_CLIENT_ID","Login","_s","dispatch","onSuccess","res","user","profileObj","name","email","password","AUTH_PASSWORD","data","get","isPresent","onFailure","console","log","children","buttonText","cookiePolicy","style","MarginTop","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/akashkumar/Desktop/MajorProj/frontend/src/components/googleAuth.js"],"sourcesContent":["import React from 'react';\nimport { GoogleLogin } from 'react-google-login';\nimport axios from \"axios\";\nimport { login,register } from \"../actions/userActions\";\nimport { useDispatch } from \"react-redux\";\nimport config from \"../config.json\"\n\n\nconst clientId=config.GOOGLE_CLIENT_ID\n\nfunction Login() {\n      \n  const dispatch = useDispatch()\n  \n  \n    const onSuccess = async (res) => {\n    const user= res.profileObj;\n    const {name ,email} =user;\n     const password= config.AUTH_PASSWORD; \n     const {data} = await axios.get(`/api/users/googleauth/${email}`)\n        if( data.isPresent){\n      dispatch(login(email, password))\n    }else{\n      dispatch(register(name, email, password))\n    }\n     };\n\n  const onFailure = (res) => {\n    console.log('Login failed: res:', res); \n   };\n\n  return (\n    <div>\n       <GoogleLogin\n        clientId={clientId}\n         buttonText=\"Sign In/Sign Up\"\n        onSuccess={onSuccess}\n        onFailure={onFailure}\n        cookiePolicy={'single_host_origin'}\n        style={{ MarginTop: '100px' }}\n        //isSignedIn={true}\n      />\n    </div>\n  );\n}\n\nexport default Login;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,oBAAoB;AAChD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,EAACC,QAAQ,QAAQ,wBAAwB;AACvD,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,MAAM,MAAM,gBAAgB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGnC,MAAMC,QAAQ,GAACH,MAAM,CAACI,gBAAgB;AAEtC,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EAEf,MAAMC,QAAQ,GAAGR,WAAW,EAAE;EAG5B,MAAMS,SAAS,GAAG,MAAOC,GAAG,IAAK;IACjC,MAAMC,IAAI,GAAED,GAAG,CAACE,UAAU;IAC1B,MAAM;MAACC,IAAI;MAAEC;IAAK,CAAC,GAAEH,IAAI;IACxB,MAAMI,QAAQ,GAAEd,MAAM,CAACe,aAAa;IACpC,MAAM;MAACC;IAAI,CAAC,GAAG,MAAMpB,KAAK,CAACqB,GAAG,CAAE,yBAAwBJ,KAAM,EAAC,CAAC;IAC7D,IAAIG,IAAI,CAACE,SAAS,EAAC;MACrBX,QAAQ,CAACV,KAAK,CAACgB,KAAK,EAAEC,QAAQ,CAAC,CAAC;IAClC,CAAC,MAAI;MACHP,QAAQ,CAACT,QAAQ,CAACc,IAAI,EAAEC,KAAK,EAAEC,QAAQ,CAAC,CAAC;IAC3C;EACC,CAAC;EAEJ,MAAMK,SAAS,GAAIV,GAAG,IAAK;IACzBW,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEZ,GAAG,CAAC;EACvC,CAAC;EAEF,oBACEP,OAAA;IAAAoB,QAAA,eACGpB,OAAA,CAACP,WAAW;MACXQ,QAAQ,EAAEA,QAAS;MAClBoB,UAAU,EAAC,iBAAiB;MAC7Bf,SAAS,EAAEA,SAAU;MACrBW,SAAS,EAAEA,SAAU;MACrBK,YAAY,EAAE,oBAAqB;MACnCC,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAQ;MAC5B;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACE;AAEV;AAACxB,EAAA,CAlCQD,KAAK;EAAA,QAEKN,WAAW;AAAA;AAAAgC,EAAA,GAFrB1B,KAAK;AAoCd,eAAeA,KAAK;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}